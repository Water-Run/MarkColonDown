# 高级使用  

## 手动配置编译指令  

## 特殊文件  

`.mcdignore`  
`.mcdkeep`  

编译器指令参考:

| 指令      | 可选参数                                                                                                         | 说明                                                                                                                                                                                          |
|-----------|------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `init`    | `--entry <Path>` `--set <Name[=Value]>` *(可重复)* `--without <Name>` *(可重复)*                                 | 初始化(默认在运行目录, 可通过`entry`修改)，并将 `--set` 指定的编译指令写入 `#:compile` 配置区；`--without` 用于从入口配置区移除/不写入某个指令项                                              |
| `compile` | `--use <Config>` `--overwrite <Name[=Value]>` *(可重复)* `--ignore <Name>` *(可重复)* `--flag <Name>` *(可重复)* | 执行编译(默认使用`Compile.md`作为配置, 可使用`--use`进行修改)；`--overwrite` 在本次编译中覆写/设置入口配置区中的指令项；`--ignore` 在本次编译中临时禁用入口配置区中的指令项；`--flag`添加标记 |

*编译指令:*

| 指令名               | 参数                     | 默认值                          | 说明                                                                           |
|----------------------|--------------------------|---------------------------------|--------------------------------------------------------------------------------|
| `Max_Compile_Time`   | 非负整数(ms)             | 未设置（不启用超时）            | 编译限时（毫秒）；未设置则不启用超时                                           |
| `Max_Output_Bytes`   | 非负整数                 | 未设置（不限制）                | 最大总输出大小（字节）；未设置则不限制                                         |
| `Max_Output_Files`   | 非负整数                 | 未设置（不限制）                | 最大总输出文件数；未设置则不限制                                               |
| `Max_Include_Depth`  | 非负整数                 | 未设置（不限制）                | include 递归深度上限                                                           |
| `Max_Template_Depth` | 非负整数                 | 未设置（不限制）                | template/use 展开深度上限                                                      |
| `Disable_Code`       | 无                       | 未设置（不限制）                | 禁用代码内嵌, 出现内嵌时将会报错                                               |
| `Ignore_Code`        | 无                       | 未设置（不限制）                | 忽略代码内嵌, 出现时不报错                                                     |
| `Disable_Import`     | 无                       | 未设置（不限制）                | 禁用代码中的 `import` 调用, 出现时将会报错                                     |
| `Require_Version`    | 版本表达式（支持比较符） | 执行`mcd init`的`Mark:down`版本 | 要求编译器版本满足条件（如 `>=1.2.0`）                                         |
| `Include_Base`       | 路径                     | `./Source`                      | include 相对路径解析的基路径                                                   |
| `Input_Path`         | 路径                     | `./Source`                      | 编译输入路径                                                                   |
| `Output_Path`        | 路径                     | `./Compiled`                    | 编译输出路径                                                                   |
| `Input_Glob`         | 路径通配符               | `**/*.md`                       | 需要被当作 `Mark:down` 处理的文件通配符                                        |
| `Raw_Glob`           | 路径通配符               | （空）                          | `Mark:down` 关心但不处理：匹配文件原样复制到输出目录（仅在实现复制策略时生效） |
| `Ignore_Glob`        | 路径通配符               | `.mcdignore` `.mcdcopy`         | `Mark:down` 不关心也不处理：匹配文件不进入输出                                 |
| `Log_Path`           | 路径                     | `Log.md`                        | 日志输出路径                                                                   |
| `Global_Include`     | 路径通配符               | `./Global.md`                   | 自动全局导入的文件(文件开头隐含`#include`)                                     |
